{"meta":{"type":"db","canSave":false,"canEdit":false,"canAdmin":false,"canStar":false,"slug":"location","url":"/d/6RPnMxSGz/location","expires":"0001-01-01T00:00:00Z","created":"2020-08-20T22:18:18-04:00","updated":"2020-08-20T23:43:26-04:00","updatedBy":"admin","createdBy":"Anonymous","version":10,"hasAcl":false,"isFolder":false,"folderId":0,"folderTitle":"General","folderUrl":"","provisioned":false,"provisionedExternalId":"location.json"},"dashboard":{"annotations":{"list":[{"builtIn":1,"datasource":"-- Grafana --","enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"editable":true,"gnetId":null,"graphTooltip":0,"id":9,"iteration":1597981238204,"links":[],"panels":[{"datasource":"Prometheus","description":"","fieldConfig":{"defaults":{"custom":{"align":null},"links":[{"title":"","url":"http://192.168.1.5:3000/d/rYdddlPWk/node-exporter-full?orgId=1\u0026refresh=1m\u0026var-DS_PROMETHEUS=Prometheus\u0026$var-job=${job}"}],"mappings":[{"from":"","id":0,"text":"Up","to":"","type":1,"value":"1"},{"from":"0","id":1,"text":"Down","to":".9999","type":2}],"thresholds":{"mode":"absolute","steps":[{"color":"red","value":null},{"color":"green","value":1}]}},"overrides":[]},"gridPos":{"h":18,"w":3,"x":0,"y":0},"id":2,"options":{"colorMode":"background","graphMode":"none","justifyMode":"auto","orientation":"horizontal","reduceOptions":{"calcs":["last"],"fields":"","values":false},"textMode":"auto"},"pluginVersion":"7.1.4","targets":[{"expr":"up","instant":true,"interval":"","legendFormat":"{{job}}","refId":"A"}],"timeFrom":null,"timeShift":null,"title":"Hosts","type":"stat"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus","fieldConfig":{"defaults":{"custom":{},"unit":"Bps"},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":3,"y":0},"hiddenSeries":false,"id":6,"legend":{"alignAsTable":false,"avg":true,"current":false,"max":false,"min":false,"rightSide":false,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"nullPointMode":"null","percentage":false,"pluginVersion":"7.1.4","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"$$hashKey":"object:33","alias":"ISP Down","dashLength":1,"dashes":true,"fill":0},{"$$hashKey":"object:50","alias":"ISP Up","dashLength":1,"dashes":true,"fill":0}],"spaceLength":10,"stack":false,"steppedLine":false,"targets":[{"expr":"rate(node_network_receive_bytes_total{device='eth0', type='rtr'}[30s]) check-config.sh check-rules.sh generate-test-alert.sh save-dashboards.sh 8","instant":false,"interval":"","legendFormat":"{{device}} down","refId":"A"},{"expr":"rate(node_network_transmit_bytes_total{device='eth0', type='rtr'}[30s]) check-config.sh check-rules.sh generate-test-alert.sh save-dashboards.sh -8","instant":false,"interval":"","legendFormat":"{{device}} up","refId":"B"},{"expr":"150000000","interval":"","legendFormat":"ISP Down","refId":"C"},{"expr":"-10000000","interval":"","legendFormat":"ISP Up","refId":"D"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"Network Traffic","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"Bps","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"datasource":"Prometheus","description":"","fieldConfig":{"defaults":{"custom":{},"mappings":[],"max":100,"min":0,"thresholds":{"mode":"percentage","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"percent"},"overrides":[]},"gridPos":{"h":8,"w":3,"x":15,"y":0},"id":4,"options":{"displayMode":"lcd","orientation":"horizontal","reduceOptions":{"calcs":["mean"],"fields":"","values":false},"showUnfilled":true},"pluginVersion":"7.1.4","targets":[{"expr":"(sum by (job) (rate(node_cpu_seconds_total{mode!= 'idle'}[1m])) / sum by (job) (rate(node_cpu_seconds_total[1m])) ) check-config.sh check-rules.sh generate-test-alert.sh save-dashboards.sh 100","interval":"","legendFormat":"{{job}}","refId":"A"},{"expr":"(sum by (job) (rate(node_cpu{mode!= 'idle'}[1m])) / sum by (job) (rate(node_cpu[1m])) ) check-config.sh check-rules.sh generate-test-alert.sh save-dashboards.sh 100","interval":"","legendFormat":"{{job}}","refId":"B"}],"timeFrom":null,"timeShift":null,"title":"CPU Load","type":"bargauge"},{"datasource":"Prometheus","description":"","fieldConfig":{"defaults":{"custom":{},"mappings":[],"max":100,"min":0,"thresholds":{"mode":"percentage","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"percent"},"overrides":[]},"gridPos":{"h":8,"w":3,"x":18,"y":0},"id":8,"options":{"displayMode":"lcd","orientation":"horizontal","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showUnfilled":true},"pluginVersion":"7.1.4","targets":[{"expr":"100 check-config.sh check-rules.sh generate-test-alert.sh save-dashboards.sh (1 - ((avg_over_time(node_memory_MemFree[1m]) + avg_over_time(node_memory_Cached[1m]) + avg_over_time(node_memory_Buffers[1m])) / avg_over_time(node_memory_MemTotal[1m])))","hide":false,"interval":"","legendFormat":"{{job}}","refId":"A"},{"expr":"100 check-config.sh check-rules.sh generate-test-alert.sh save-dashboards.sh (1 - ((avg_over_time(node_memory_MemFree_bytes[1m]) + avg_over_time(node_memory_Cached_bytes[1m]) + avg_over_time(node_memory_Buffers_bytes[1m])) / avg_over_time(node_memory_MemTotal_bytes[1m])))","hide":false,"interval":"","legendFormat":"{{job}}","refId":"B"},{"expr":"100 check-config.sh check-rules.sh generate-test-alert.sh save-dashboards.sh (avg_over_time(node_memory_free_bytes{location=\"$location\"}[1m]) / avg_over_time(node_memory_total_bytes{location=\"$location\"}[1m]))","hide":false,"interval":"","legendFormat":"{{job}}","refId":"C"}],"timeFrom":null,"timeShift":null,"title":"RAM Load","type":"bargauge"},{"datasource":"Prometheus","description":"","fieldConfig":{"defaults":{"custom":{},"mappings":[],"max":12,"min":0,"thresholds":{"mode":"absolute","steps":[{"color":"red","value":null},{"color":"green","value":12}]},"unit":"short"},"overrides":[]},"gridPos":{"h":8,"w":3,"x":21,"y":0},"id":9,"options":{"orientation":"horizontal","reduceOptions":{"calcs":["last"],"fields":"","values":false},"showThresholdLabels":false,"showThresholdMarkers":false},"pluginVersion":"7.1.4","targets":[{"expr":"count(container_last_seen{image!=\"\"})","instant":true,"interval":"","legendFormat":"Expected: 14","refId":"A"}],"timeFrom":null,"timeShift":null,"title":"Container Status","type":"gauge"},{"aliasColors":{},"bars":false,"dashLength":10,"dashes":false,"datasource":"Prometheus","description":"","fieldConfig":{"defaults":{"custom":{}},"overrides":[]},"fill":1,"fillGradient":0,"gridPos":{"h":8,"w":12,"x":3,"y":8},"hiddenSeries":false,"id":7,"legend":{"alignAsTable":false,"avg":true,"current":false,"max":false,"min":false,"rightSide":false,"show":true,"total":false,"values":true},"lines":true,"linewidth":1,"nullPointMode":"null","percentage":false,"pluginVersion":"7.1.4","pointradius":2,"points":false,"renderer":"flot","seriesOverrides":[{"$$hashKey":"object:74"}],"spaceLength":10,"stack":true,"steppedLine":false,"targets":[{"expr":"sum(irate(node_network_receive_bytes_total{device='eth2', type='rtr'}[1m])) check-config.sh check-rules.sh generate-test-alert.sh save-dashboards.sh 8","interval":"","legendFormat":"{{device}} down","refId":"A"},{"expr":"sum(irate(node_network_transmit_bytes_total{device='eth2', type='rtr'}[1m])) check-config.sh check-rules.sh generate-test-alert.sh save-dashboards.sh 8","instant":false,"interval":"","legendFormat":"{{device}} up","refId":"B"}],"thresholds":[],"timeFrom":null,"timeRegions":[],"timeShift":null,"title":"WAP Traffic","tooltip":{"shared":true,"sort":0,"value_type":"individual"},"type":"graph","xaxis":{"buckets":null,"mode":"time","name":null,"show":true,"values":[]},"yaxes":[{"format":"Bps","label":null,"logBase":1,"max":null,"min":null,"show":true},{"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}],"yaxis":{"align":false,"alignLevel":null}},{"datasource":"Prometheus","description":"","fieldConfig":{"defaults":{"custom":{},"mappings":[],"max":100,"min":0,"thresholds":{"mode":"percentage","steps":[{"color":"green","value":null},{"color":"#EAB839","value":70},{"color":"red","value":90}]},"unit":"percent"},"overrides":[]},"gridPos":{"h":8,"w":6,"x":15,"y":8},"id":10,"options":{"displayMode":"lcd","orientation":"horizontal","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showUnfilled":true},"pluginVersion":"7.1.4","targets":[{"expr":"node_filesystem_avail_bytes{mountpoint=\"/\", fstype!=\"rootfs\"} / node_filesystem_size_bytes{mountpoint=\"/\", fstype!=\"rootfs\"} check-config.sh check-rules.sh generate-test-alert.sh save-dashboards.sh 100","instant":false,"interval":"","legendFormat":"{{job}}:{{mountpoint}}","refId":"A"},{"expr":"windows_logical_disk_free_bytes{volume=\"C:\"} / windows_logical_disk_size_bytes{volume=\"C:\"} check-config.sh check-rules.sh generate-test-alert.sh save-dashboards.sh 100","interval":"","legendFormat":"{{job}}:{{volume}}","refId":"B"},{"expr":"node_filesystem_avail{mountpoint=\"/\", fstype!=\"rootfs\"} / node_filesystem_size{mountpoint=\"/\", fstype!=\"rootfs\"} check-config.sh check-rules.sh generate-test-alert.sh save-dashboards.sh 100","instant":false,"interval":"","legendFormat":"{{job}}:{{mountpoint}}","refId":"C"}],"timeFrom":null,"timeShift":null,"title":"Disk Full %","type":"bargauge"},{"datasource":"Prometheus","description":"","fieldConfig":{"defaults":{"custom":{},"decimals":0,"mappings":[],"thresholds":{"mode":"percentage","steps":[{"color":"green","value":null}]},"unit":"decbytes"},"overrides":[]},"gridPos":{"h":8,"w":3,"x":21,"y":8},"id":11,"options":{"colorMode":"value","graphMode":"none","justifyMode":"auto","orientation":"horizontal","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"textMode":"auto"},"pluginVersion":"7.1.4","targets":[{"expr":"node_filesystem_avail_bytes{mountpoint=\"/\", fstype!=\"rootfs\"}","instant":false,"interval":"","legendFormat":"{{job}}:{{mountpoint}}","refId":"A"},{"expr":"windows_logical_disk_free_bytes{volume=\"C:\"}","instant":false,"interval":"","legendFormat":"{{job}}:{{volume}}","refId":"B"},{"expr":"node_filesystem_avail{mountpoint=\"/\", fstype=\"ext4\"}","hide":false,"instant":false,"interval":"","legendFormat":"{{job}}:{{mountpoint}}","refId":"C"}],"timeFrom":null,"timeShift":null,"title":"Disk Free","type":"stat"}],"refresh":false,"schemaVersion":26,"style":"dark","tags":[],"templating":{"list":[{"allValue":null,"current":{"selected":true,"text":"All","value":"$__all"},"datasource":"Prometheus","definition":"label_values(job)","hide":0,"includeAll":true,"label":null,"multi":false,"name":"job","options":[{"selected":true,"text":"All","value":"$__all"},{"selected":false,"text":"jmd-cam01","value":"jmd-cam01"},{"selected":false,"text":"jmd-cam02","value":"jmd-cam02"},{"selected":false,"text":"jmd-er01","value":"jmd-er01"},{"selected":false,"text":"jmd-mbp01","value":"jmd-mbp01"},{"selected":false,"text":"jmd-nas01","value":"jmd-nas01"},{"selected":false,"text":"jmd-rtr01","value":"jmd-rtr01"},{"selected":false,"text":"jmd-wap01","value":"jmd-wap01"},{"selected":false,"text":"jmd-wks01","value":"jmd-wks01"}],"query":"label_values(job)","refresh":0,"regex":"","skipUrlSync":false,"sort":0,"tagValuesQuery":"","tags":[],"tagsQuery":"","type":"query","useTags":false}]},"time":{"from":"now-3h","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"]},"timezone":"","title":"Location","uid":"6RPnMxSGz","version":10}}
